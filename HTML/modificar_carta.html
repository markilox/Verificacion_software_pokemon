<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modificar Carta</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script>
   	let usuario = "";
	//Mostrar usuario en cabecera
	document.addEventListener('DOMContentLoaded', function () {
    		const urlParams = new URLSearchParams(window.location.search);
   			usuario = urlParams.get('usuario');
    		document.getElementById('user-name').textContent = usuario;
    		
    		//Si el Estado es "Reseervado", no se puede modificar
    		if (estado == "Reservado") {
    			document.getElementById("estado").disabled = true;
    		}
    		
	});
	function ir_miColeccion() {
	    window.location.href = `Mi_coleccion.html?usuario=${encodeURIComponent(usuario)}`;
	    return true;
	}
	function ir_SolicitudesEnviadas() {
	    window.location.href = `Solicitudes_Enviadas.html?usuario=${encodeURIComponent(usuario)}`;
	    return true;
	}
	function ir_SolicitudesRecibidas() {
	    window.location.href = `Solicitudes_Recibidas.html?usuario=${encodeURIComponent(usuario)}`;
	    return true;
	}
    </script>
</head>
<body>
    <header class="header">
    	<div class="header-left">
        	<img src="logo.png" alt="Logo" class="logo">
        	<h1>Pikachu Forever</h1>
    	</div>

    	<nav class="menu">
       	 	<a class="active" href="#" onclick="ir_miColeccion(); return false;">Mi Colección</a>
        	<a href="#" onclick="ir_SolicitudesRecibidas(); return false;">Solicitudes Recibidas</a>
        	<a href="#" onclick="ir_SolicitudesEnviadas(); return false;">Solicitudes Enviadas</a>
    	</nav>
    	<div class="user-info">
       	 	<div class="user-name" id="user-name"></div> 
        	<a href="index.html" class="logout-link"> <i class="fas fa-sign-out-alt"></i>
        	</a>
    	</div>

    </header>

    <main>   
	<div class="content-container">
        <form id="modificar-carta-form">
	    <h2>Modificar Carta</h2>
            <!-- Campo Dueño -->
            <div>
                <label for="dueno">Dueño:</label>
                <input type="text" id="dueno" name="dueno" value="" readonly>
            </div>

            <!-- Campo Nombre -->
            <div>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" maxlength="20" required>
            </div>

            <!-- Campo Puntos -->
            <div>
                <label for="puntos">Puntos:</label>
                <input type="number" id="puntos" name="puntos" max="9999" required>
            </div>

            <!-- Campo Tipo -->
            <div>
                <label for="tipo">Tipo:</label>
                <select id="tipo" name="tipo" required>
                    <option value="Planta">Planta</option>
                    <option value="Eléctrico">Eléctrico</option>
                    <option value="Agua">Agua</option>
                    <option value="Dragón">Dragón</option>
                </select>
            </div>

            <!-- Campo Estado -->
            <div>
                <label for="estado">Estado:</label>
                <select id="estado" name="estado" required>
                    <option value="Activo">Disponible</option>
                    <option value="Intransferible">Intransferible</option>
                </select>
            </div>

            <!-- Campo Fecha de alta -->
            <div>
                <label for="fecha-alta">Fecha de alta:</label>
                <input type="text" id="fecha-alta" name="fecha-alta" value="" readonly>
            </div>

            <!-- Botones -->
            <div>
                <button class="aceptar" type="submit">Aceptar</button>
                <button class="cancelar" type="button" class="navegacion" onclick="window.history.back();">Cancelar</button>
            </div>
        </form>
	</div>
    </main>

    <script>
        // Rellenar el nombre del usuario y la fecha de alta
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const usuario = urlParams.get('usuario');
            document.getElementById('user-name').textContent = usuario;

        });
    </script>

</body>
</html>